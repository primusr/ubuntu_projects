<html>
    <head>
        <script src="./chart.js"></script>

        <script src="./main.js"></script>
        <link rel="stylesheet" href="./main.css">
        
        <!-- Meta -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="#">
    </head>

    <body>
        <div class="top">
            <img src="./logo.png">
            <p id="system_date">-</p>
            <p id="system_time">-</p>
        </div>

        <div class="content">
            <!-- CPU Card -->
            <div class="card">
                <div class="title">
                    <p>CPU</p>
                    <p id="cpu_name">-</p>
                </div>
                <div class="split">
                    <div>
                        <canvas id="cpu_temperature_chart"></canvas>
                        <p id="cpu_temperature_value">-</p>
                    </div>
                    <div>
                        <canvas id="cpu_load_chart"></canvas>
                        <p id="cpu_load_value">-%</p>
                        <canvas id="cpu_clock_chart"></canvas>
                        <p id="cpu_clock_value">- GHz</p>
                        <canvas id="cpu_tdp_chart"></canvas>
                        <p id="cpu_tdp_value">- Watts</p>
                    </div>
                </div>
            </div>

            <!-- GPU Card -->
            <div class="card">
                <div class="title">
                    <p>GPU</p>
                    <p id="gpu_name">-</p>
                </div>
                <div class="split">
                    <div>
                        <canvas id="gpu_temperature_chart"></canvas>
                        <p id="gpu_temperature_value">-</p>
                    </div>
                    <div>
                        <canvas id="gpu_load_chart"></canvas>
                        <p id="gpu_load_value">-%</p>
                        <canvas id="gpu_vram_chart"></canvas>
                        <p id="gpu_vram_value">- GB</p>
                        <canvas id="gpu_tdp_chart"></canvas>
                        <p id="gpu_tdp_value">- Watts</p>
                    </div>
                </div>
            </div>

            <!-- RAM Card -->
            <div class="card">
                <div class="title">
                    <p>RAM</p>
                    <p id="ram_name">---</p>
                </div>
                <canvas id="ram_load_chart"></canvas>
                <div class="large"><p id="ram_used_value">- GB</p></div>
            </div>

            <!-- Storage Card -->
            <div class="card">
                <div class="title">
                    <p>Storage</p>
                    <p id="storage_name">- TB</p>
                </div>
                <canvas id="storage_load_chart"></canvas>
            </div>

            <!-- Network Card -->
            <div class="card">
                <div class="title">
                    <p>Network</p>
                    <p id="network_name">- Connections</p>
                </div>
                <canvas id="network_load_chart"></canvas>
                <div class="throughput">
                    <p id="network_download_value">- KB/s</p>
                    <p id="network_upload_value">- KB/s</p>
                </div>
            </div>

            <!-- Motherboard Card -->
            <div class="card">
                <div class="title">
                    <p>Motherboard</p>
                    <p id="motherboard_name">-</p>
                </div>
                <canvas id="motherboard_fan_load_chart"></canvas>
            </div>

            <!-- Frame Card -->
            <div class="card">
                <div class="title">
                    <p>Frame</p>
                    <p id="frame_name">-</p>
                </div>
                <canvas id="frame_timestamp_chart"></canvas>
                <div class="large"><p id="frame_fps_value">- FPS</p></div>
            </div>

            <!-- Audio Card -->
            <div class="card">
                <div class="title">
                    <p>Audio</p>
                    <p id="audio_name">-</p>
                </div>
                <canvas id="audio_spectrum_chart" ></canvas>
                <p></p>
                <canvas id="audio_volume_chart"></canvas>
            </div>


            <!-- Setup References and Charts -->
            <script>
                //
                // Chart Options / Helpers
                var circlarbar_option = {
                    type: 'doughnut',
                    data: {
                        labels: ["", ""],
                        datasets: [{ data: [90, 10], backgroundColor: ["#000", "#ccc"], borderWidth: 0, barThickness: 1, circumference: 270, rotation: -135}]
                    },
                    options: {
                        plugins: { tooltip: { enabled: false }, legend: { display: false } },
                        animation: { duration: 400, easing: "easeOutQuad" },
                        cutout: 55
                    }
                };
                let singlebar_option = {
                    type: 'bar',
                    data: {
                        labels: [""],
                        datasets: [{ data: [10], backgroundColor: "#000", barThickness: 300}]
                    },
                    options: {
                        indexAxis: 'y',
                        scales: { y: { display: false }, x: { display: false, min: 0, max: 100} },
                        plugins: { tooltip: { enabled: false }, legend: { display: false } },
                        animation: { duration: 400, easing: "easeOutQuad" },
                        
                    }
                };
                let multibar_option = {
                    type: 'bar',
                    data: {
                        labels: new Array(15).fill(''),
                        datasets: [{ data: new Array(15).fill(50), backgroundColor: "#000" }], skipNull: true
                    },
                    options: {
                        indexAxis: 'y',
                        scales: { x: { display: false }, y: { display: false, min: 0 } },
                        plugins: { tooltip: { enabled: false }, legend: { display: false } },
                        animation: { duration: 400, easing: "easeOutQuad" },
                        maintainAspectRatio: false,
                    }
                };
                let singleline_option = {
                    type: 'line',
                    data: {
                        labels: new Array(256).fill(''),
                        datasets: [{ data: new Array(256).fill(0), borderColor: "#000", pointStyle: false }]
                    },
                    options: {
                        scales: { x: { display: false }, y: { display: false, min: 0, max: 100 } },
                        plugins: { tooltip: { enabled: false }, legend: { display: false } },
                        animation: false,
                        maintainAspectRatio: false,
                    }
                };
                let doubleline_option = {
                    type: 'line',
                    data: {
                        labels: new Array(20).fill(''),
                        datasets: [
                            { data: new Array(20).fill(0), borderColor: "#000", pointStyle: false },
                            { data: new Array(20).fill(20), borderColor: "#ccc", pointStyle: false },
                        ]
                    },
                    options: {
                        scales: { x: { display: false }, y: { display: false, min: 0, max: 100 } },
                        plugins: { tooltip: { enabled: false }, legend: { display: false } },
                        animation: false,
                        maintainAspectRatio: false,
                    }
                };
                let spectrum_option = {
                    type: 'bar',
                    data: {
                        labels: new Array(64).fill(''),
                        datasets: [{ data: new Array(64).fill(0), backgroundColor: "#000" }]
                    },
                    options: {
                        scales: { x: { display: false }, y: { display: false, min: -2, max: 255 } },
                        plugins: { tooltip: { enabled: false }, legend: { display: false } },
                        animation: { duration: 400, easing: "easeOutQuad" },
                        //animation: false,
                        maintainAspectRatio: false
                    }
                }
                function CreateChart(id, option) {
                    var ele = document.querySelector("#" + id);
                    ele.chart = new ApexCharts(ele, option);
                    ele.chart.render();
                }
                function GetElementById(id) { return document.getElementById(id); }
                
                //
                // Date / Time
                var system_date = GetElementById("system_date");
                var system_time = GetElementById("system_time");

                //
                // CPU
                var cpu_name = GetElementById("cpu_name");
                var cpu_temperature_value = GetElementById("cpu_temperature_value");
                var cpu_load_value = GetElementById("cpu_load_value");
                var cpu_clock_value = GetElementById("cpu_clock_value");
                var cpu_tdp_value = GetElementById("cpu_tdp_value");
                var cpu_temperature_chart =  new Chart(document.getElementById('cpu_temperature_chart'), circlarbar_option);
                var cpu_load_chart =  new Chart(document.getElementById('cpu_load_chart'), singlebar_option);
                var cpu_clock_chart =  new Chart(document.getElementById('cpu_clock_chart'), singlebar_option);
                var cpu_tdp_chart =  new Chart(document.getElementById('cpu_tdp_chart'), singlebar_option);

                //
                // GPU
                var gpu_name = GetElementById("gpu_name");
                var gpu_temperature_value = GetElementById("gpu_temperature_value");
                var gpu_load_value = GetElementById("gpu_load_value");
                var gpu_vram_value = GetElementById("gpu_vram_value");
                var gpu_tdp_value = GetElementById("gpu_tdp_value");
                var gpu_temperature_chart =  new Chart(document.getElementById('gpu_temperature_chart'), circlarbar_option);
                var gpu_load_chart =  new Chart(document.getElementById('gpu_load_chart'), singlebar_option);
                var gpu_vram_chart =  new Chart(document.getElementById('gpu_vram_chart'), singlebar_option);
                var gpu_tdp_chart =  new Chart(document.getElementById('gpu_tdp_chart'), singlebar_option);

                //
                // RAM
                var ram_name = GetElementById("ram_name");
                var ram_used_value = GetElementById("ram_used_value");
                var ram_load_chart =  new Chart(document.getElementById('ram_load_chart'), singlebar_option);

                //
                // Storage
                var storage_load_chart = new Chart(document.getElementById('storage_load_chart'), doubleline_option);

                //
                // Network
                var network_name = GetElementById("network_name");
                var network_download_value = GetElementById("network_download_value");
                var network_upload_value = GetElementById("network_upload_value");
                var network_load_chart =  new Chart(document.getElementById('network_load_chart'), singlebar_option);

                //
                // Motherbaord
                var motherboard_name = GetElementById("motherboard_name");
                var motherboard_fan_load_chart = new Chart(document.getElementById('motherboard_fan_load_chart'), multibar_option);

                //
                // Frame
                var frame_name = GetElementById("frame_name");
                var frame_fps_value = GetElementById("frame_fps_value");
                var frame_timestamp_chart = new Chart(document.getElementById('frame_timestamp_chart'), singleline_option);
                
                //
                // Audio
                var audio_name = GetElementById("audio_name");
                var spectrum_chart = new Chart(document.getElementById('audio_spectrum_chart'), spectrum_option);
                var audio_volume_chart =  new Chart(document.getElementById('audio_volume_chart'), singlebar_option);
            </script>
        </div>
    </body>
</html>